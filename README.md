# auto_asembly_fifteen
Auto assembly of the game "Fifteen"

Автоматическая сборка игры “Пятнашки” основана на рекурсивном алгоритме обхода дерева состояний игрового поля (алгоритм Iterative Depending A*). 

Входные данные:   
открытый список: при первом вызове функции поиска список содержит корневой узел. В дальнейшем список увеличивается по мере углубления в дерево состояний. 
вес игрового поля: при первом вызове равен 0. Для каждого последующего развернутого узла стоимость на единицу больше, т.к. для его достижения требуется на один ход больше от предыдущего.
порог: равен эвристической оценке корневого узла. Отсекает ранее пройденные вершины (предотвращая зацикливание алгоритма) и предотвращает развертывание узлов, стоимость которых превышает значение порога (“плохие состояния”).  

Работа алгоритма:
1.	Извлечь из открытого списка последний добавленный узел (при первом вызове это корневой узел). 
2.	Получить его стоимость. 
3.	Если стоимость узла превышает значения порога вернуть стоимость этого узла, зафиксировать её (может быть использована для нового порога, в случае, если при текущем значении порога поиск потерпит неудачу), исключить из открытого списка последний добавленный узел. 
4.	Иначе, проверить является ли игровое поле искомым. Если игровое поле является искомым (найдено частное решение) выйти из рекурсии (вернуть FOUND). При возвратах добавлять в список решений (solutionList) узлы, последовательность развертывания которых привела к частному решению.
5.	Если игровое поле не является искомым развернуть это поле (получить список дочерних состояний игрового поля из текущего) и перейти в пункту 1 (рекурсивно вызвать функцию поиска с измененными параметрами).
6.	В случае если алгоритм не нашел частного решения (искомое состояние глубоко в дереве и при текущем значении порога оно недостижимо) выполняется возврат зафиксированной минимальной стоимости узла, которая превышает порог и поиск повторяется снова с увеличенным значением порога.
  Выходные данные:
Возврат FOUND из главной функции алгоритма IDA*: частное решение найдено. В результате имеется список состояний, которые привели к частному решению.
Возврат NOT_FOUND из главной функции алгоритма IDA*: частное решение НЕ найдено. 

P.S. Т.к. при формировании игрового поля введена оценка игрового поля на собираемость (отсечение исходного состояния, которое не приведет к успешной сборке), необходимость возврата NOT_FOUND из функции Search опущена.
